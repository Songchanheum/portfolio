(this.webpackJsonpportfolio=this.webpackJsonpportfolio||[]).push([[1],{121:function(e,t,n){},122:function(e,t,n){},126:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(40),o=n.n(c),s=n(25),u=n(88),i=n(52),l=function(e){e&&e instanceof Function&&n.e(7).then(n.bind(null,221)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))},d=n(27),b=n(15),p=n.n(b),j=n(19),g=n(37),f=Object(d.b)({name:"login",initialState:{login:!1,loginError:!1},reducers:{login:{reducer:function(){},prepare:function(e){return{payload:{username:e.username,password:e.password}}}},logout:function(e){e.loginError=!1,e.login=!1},login_success:function(e){e.loginError=!1,e.login=!0},login_fail:function(e){e.loginError=!0,e.login=!1}}}),h=f.actions,x=f,O=n(10),m=n(60),v=n.n(m),_=n(83),k=n.n(_).a.create({baseURL:"/waste/"}),w=function(e){var t=e.username,n=e.password;return k.post("/authenticate",{username:t,password:n},{headers:{"content-type":"application/json"}})},y=function(){return k.get("/logincheck")},I=Object(d.b)({name:"loading",initialState:{loading:!1},reducers:{start_loading:function(e){e.loading=!0},stop_loading:function(e){e.loading=!1}}}),F=I.actions,S=I,C=Object(d.b)({name:"user",initialState:{userId:null,username:null,auth:2},reducers:{login_check:function(){},login_check_success:function(e,t){e.userId=t.payload.userId,e.username=t.payload.username,e.auth=t.payload.auth},login_check_fail:function(e){e.userId=null,e.username=null,e.auth=2}}}),E=C.actions,z=C,P=p.a.mark(T),A=p.a.mark(B),L=p.a.mark(H);function T(e){var t,n,r,a,c,o,s;return p.a.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:return t=F.start_loading,n=F.stop_loading,r=h.login_success,a=h.login_fail,c=E.login_check,u.next=5,Object(O.d)(t());case 5:return u.prev=5,u.next=8,Object(O.b)(w,e.payload);case 8:return o=u.sent,u.next=11,Object(g.b)("history");case 11:return s=u.sent,v.a.set("Authorization","".concat(o.data.token)),u.next=15,Object(O.d)(r());case 15:return s.push("/"),u.next=18,Object(O.d)(c());case 18:u.next=24;break;case 20:return u.prev=20,u.t0=u.catch(5),u.next=24,Object(O.d)(a());case 24:return u.next=26,Object(O.d)(n());case 26:case"end":return u.stop()}}),P,null,[[5,20]])}function B(){var e,t,n;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e=F.start_loading,t=F.stop_loading,r.next=3,Object(g.b)("history");case 3:return n=r.sent,r.next=6,Object(O.d)(e());case 6:try{v.a.remove("Authorization"),n.push("/")}catch(a){console.log(a)}return r.next=9,Object(O.d)(t());case 9:case"end":return r.stop()}}),A)}function H(){var e,t;return p.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h.login,t=h.logout,n.next=3,Object(O.e)(e,T);case 3:return n.next=5,Object(O.e)(t,B);case 5:case"end":return n.stop()}}),L)}var J=p.a.mark(D),M=p.a.mark(N);function D(){var e,t,n,r,a,c,o;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return e=F.start_loading,t=F.stop_loading,n=E.login_check_success,r=E.login_check_fail,a=h.logout,s.next=5,Object(O.d)(e());case 5:return s.prev=5,s.next=8,Object(O.b)(y);case 8:return c=s.sent,o={userId:c.data.userId,username:c.data.userNm,auth:"A000001"===c.data.authCd?0:1},s.next=12,Object(O.d)(n(o));case 12:s.next=20;break;case 14:return s.prev=14,s.t0=s.catch(5),s.next=18,Object(O.d)(r());case 18:return s.next=20,Object(O.d)(a());case 20:return s.next=22,Object(O.d)(t());case 22:case"end":return s.stop()}}),J,null,[[5,14]])}function N(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=E.login_check,t.next=3,Object(O.e)(e,D);case 3:case"end":return t.stop()}}),M)}var R=p.a.mark(q),U=Object(j.b)({login:x.reducer,loading:S.reducer,user:z.reducer});i.b;function q(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([H(),N()]);case 2:case"end":return e.stop()}}),R)}var G=U,K=n(143),Q=n(141),V=(n(121),n(139)),W=(n(122),n(11)),X=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,246))})),Y=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,248))}));var Z=function(e){var t=e.customHistory;return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(V.b,{history:t,children:Object(W.jsxs)(r.Suspense,{fallback:Object(W.jsx)(W.Fragment,{}),children:[Object(W.jsx)(V.a,{exact:!0,path:"".concat("/portfolio","/"),render:function(){return Object(W.jsx)(X,{})}}),Object(W.jsx)(V.a,{path:"".concat("/portfolio","/add"),render:function(){return Object(W.jsx)(Y,{})}})]})})})},$=Object(s.a)(),ee=Object(u.a)({context:{history:$}}),te=Object(d.a)({reducer:G,devTools:!0,middleware:[ee]});ee.run(q),o.a.render(Object(W.jsx)(a.a.StrictMode,{children:Object(W.jsx)(i.a,{store:te,children:Object(W.jsxs)(K.a,{children:[Object(W.jsx)(Q.a,{initialColorMode:"light"}),Object(W.jsx)(Z,{customHistory:$})]})})}),document.getElementById("root")),l()}},[[126,2,3]]]);
//# sourceMappingURL=main.a22e989a.chunk.js.map